# Pro Git

[Документация Git](https://git-scm.com/doc)\
[Книга Pro Git(rus)](https://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%9E-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8F-%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B9)\
[Игра Git](https://learngitbranching.js.org/?locale=ru_RU)

**Git** - распределенная система контроля версий, у каждого участника проекта есть полная копия репозитория и истории изменений.
***

### Глоссарий

**Repository**- хранилище данных, используемое Git для отслеживания изменений в файлах, содержит метаданные Git: историю коммитов, теги и т.д., создает ветки для параллельной разработки, сливает изменения. Может быть локальный и удаленный.\
**Index** - промежуточное хранилище, с которым взаимодействует пользователь(подготовка изменений перед фиксацией в коммите)\
**Commit** фиксация изменений в репозитории. Содержит информацию о том, что было изменено, и метаданные.\
**Branch** - отдельная линия разработки с изменениями, не влияющими на главную линию разработки (main, master).\
**Clone** - создание локальной копии удаленного репозитория. Работа с кодом проходит в копии на локальном устройстве, не влияя на удаленный исходник.\
**Merge** - объедение изменений из одной ветки в другую (слияние).\
**Fork** - создание копии чужого репозитория на хостингах репозиториев для независимой работы. После какой-то работы в форке можно отправить автору проекта запрос (Pull Request) для внесения изменений в исходник.\
**Pull Request** - запрос на внесение изменений из одной ветки/репозитория в другой.\
**Checkout** - переключение между ветками/коммитами.\
**Merge Conflict** - конфликт при слиянии двух веток, когда обе содержат изменений в одних и тех же строках кода.

### Справка по командам и флагам.

**!** *Флаги, используемые в комбинациях с командами, я записываю списком после указания этой команды.*
***
**Q - на англ.раскладе, выход из меню/команд git.**
***
git init - стартуем репозиторий.
***
git status - проверка текущего состояния файлов проекта.
***
git add имя файла - добавление файла в индекс.
***
git commit - фиксация изменений.
- -m "комментарий"  - добавление текстового сообщения к коммиту.
***
git show head - посмотреть предыдущий коммит.
***
git log - история коммитов.
- --oneline - коммит на одной строке.
- --graph - показывает историю коммитов в виде графа, показывая ветвления и  слияния.
- --all - вывести все коммиты всех веток.
 ***
git сheckout + имя ветки/хеш коммита  - переключение между ветками/коммитами, либо выполняет другие функции в зависимости от флага
- -- имя файла - отмена изменений.
- -b + имя ветки - создание и переключение на новую ветку.
***
**!** *Последние версии Git добавили новые команду для более
четкого разделения функционала.*
git switch+ имя ветки/хеш коммита - переключение между ветками
коммитами
- -c + новая ветка - создание и переключение на новую ветку.
***
git restore + имя файла -восстановление файла из индекса.
- --staged - восстановление файла из предыдущего коммита.
***
git branch - список всех веток.
git branch + новое имя - создание новой ветки.
- -d + имя ветки - удаление ветки, если слита с другими.
- -D + имя ветки - удаление, если ветка не слита с другими. 
- -m+новое имя - переименование текущей ветки. 
***
git merge + имя ветки - слияние одной ветки с другой. (нужно переключиться на ту ветку, в которую хотим влить изменения из другой ветки)
***
git push - отправить изменения в удаленный репозиторий. 
***
git clone + url репозитория - стянуть к себе репозиторий на локальную машину.
***
git pull - стянуть изменения с удаленного репозитория.
***

### Три основных состояния файла в Git:

- **Modified** - изменен, но не добавлен в индекс для фиксации
- **Staged** - изменения добавлены в индекс, готовы к фиксации
- **Committed** - изменения сохранены в репозитории
 
*Untracked*- состояние файла, когда git не отслеживается файл. Нужно добавить в индекс вручную. 

### Заметки
 
Каждый коммит содержит:
- свой хеш - уникальный идентификатор;
- автор и электронная почта (указываются при первоначальной настройки Git);
- дата и время;
- описание изменений;
- указатель на предыдущей коммит.

Коммиты связаны цепочкой, каждый указывает на своего предшественника. 

***
При конфликте слияния веток нужно вручную принять необходимые изменения, интерфейс IDE подскажет, сохранить и закоммитить принятое. 

***
SSH на Windows для Github.
1. Запустить Git bash.
2. Ввести команду ssh-keygen. Отображается путь, где будет сохранен ssh-ключ.
3. Далее ввести пароль доступа, подтвердить повторным вводом.(обычно пароль можно и не ставить).
4. Зайти в директорию, где сохранен ключ(расширение .pub), открыть его в блокноте.
5. Скопировать ключ.
6. Настройки аккаунта Github --> SHH anf GPG keys -->New SSH key --> добавить ключ.
7. В Git bash --> `ssh -T git@github.com`--> ввести пароль, если он есть. 

***
Связка локального и удаленного репозитория.

Создаем удаленный репозиторий на облачном сервисе. Далее будут подсказки, как этот репозиторий связать с локальным: либо создать с помощью предоставленных команд локально, либо,  если уже создан, просто связать локальный и удаленный репо. 

***
Чтобы не запушились мусорные файлы и папки, всегда перед первым коммитом нужно положить в проект файл **gitignore** для соответствующего ЯП.

***
Как внести изменения в чей-то реопзиторий:
1. Сделать форк этого репозитория к себе. 
2. Обязательно убрать опцию "клонировать только главную ветку".
3. Клонировать на локальную машину.
4. Внести желаемые изменения, сохранить, закоммитить.
5. Пушнуть изменения в наш форк.
6. Создать pull/merge request в оригинальный репозиторий.

Чтобы синхронизировать форк с оригиналом в облаке - жмяк Sync fork.

***
Как опубликовать проект(пример с Github):
1. Перейти в настройки репозитория --> Pages.
2. Branch --> установить main и сохранить.
3. Мы великолепны! Через какое-то время сгенерируется ссылка на наш проект, которой можем теперь делиться.

#### Справка по Power Shell:
clear - очистка терминала\
pwd - посмотреть текущий адрес, где находимся\
cd "путь" - смена директории\
echo "" > имя файла.расширение - создать файл

